import{w as e,v as t,o,c as s,r as i,a as r,F as a,b as l,d as n,t as d,e as c,f as h}from"./vendor.77acb94f.js";const p={name:"ScrollLoader",props:{loaderMethod:{type:Function,required:!0},loaderDisable:{type:Boolean,default:!1},loaderDistance:{type:Number,default:0},loaderColor:{type:String,default:"#666666"},loaderSize:{type:Number,default:50},loaderViewport:{type:Element,default:null}},computed:{size(){return{width:`${this.loaderSize}px`}},color(){return{stroke:this.loaderColor}},options(){return{root:this.loaderViewport,rootMargin:`0px 0px ${this.loaderDistance}px 0px`}},observer(){return new IntersectionObserver((([{isIntersecting:e}])=>{e&&!this.loaderDisable&&this.loaderMethod()}),this.options)}},mounted(){this.observer.observe(this.$el)},activated(){this.observer.observe(this.$el)},deactivated(){this.observer.unobserve(this.$el)},beforeDestroy(){this.observer.unobserve(this.$el)}},u={class:"loader"};p.render=function(a,l,n,d,c,h){return e((o(),s("div",u,[i(a.$slots,"default",{},(()=>[(o(),s("svg",{viewBox:"25 25 50 50",class:"loader__svg",style:h.size},[r("circle",{cx:"50",cy:"50",r:"20",class:"loader__circle",style:h.color},null,4)],4))]))],512)),[[t,!n.loaderDisable]])};const f={components:{loadMore:p},data:()=>({count:10,loading:!1,noMore:!1,infoList:[]}),methods:{load(){this.loading=!0,this.infoList.length?this.getInfo(this.infoList[this.infoList.length-1]._id):this.getInfo(),this.loading=!1},getInfo(e){console.log(e),e?this.$http.get(`/info/list?_id=${e}`).then((({data:e})=>{e&&(this.infoList=this.infoList.concat(e.items))})):this.$http.get("/info/list").then((({data:e})=>{this.infoList=e.items}))}}},b={class:"infinite-list-wrapper"},m={class:"list"};f.render=function(e,t,i,c,h,p){const u=n("load-more");return o(),s("div",b,[r("ul",m,[(o(!0),s(a,null,l(h.infoList,(e=>(o(),s("li",{key:e._id,class:"list-item"},[r("a",{href:e.items[0].url},d(e.title),9,["href"])])))),128))]),r(u,{"loader-method":p.load,loaderDistance:400},null,8,["loader-method"])])};const v={name:"App",components:{basic:f}},g={id:"app"};v.render=function(e,t,i,a,l,d){const c=n("basic");return o(),s("div",g,[r(c)])};const y=c(v);y.config.globalProperties.$http=h.create({baseURL:"/web/api"}),y.mount("#app");
